# This file is generated automatically - please edit the "templates/build/build-extension.yml" template file instead.
tasks:
  - name: "build-php-8.4"
    tags: ["build", "php8.4", "stable", "pr", "tag"]
    commands:
      - func: "locate PHP binaries"
        vars:
          PHP_VERSION: "8.4"
      - func: "compile extension"
      - func: "upload extension"
  - name: "build-php-8.4-lowest"
    tags: ["build", "php8.4", "lowest", "pr", "tag"]
    commands:
      - func: "locate PHP binaries"
        vars:
          PHP_VERSION: "8.4"
      - func: "compile extension"
        vars:
          EXTENSION_VERSION: "1.20.0"
      - func: "upload extension"
  - name: "build-php-8.4-next-stable"
    tags: ["build", "php8.4", "next-stable", "pr", "tag"]
    commands:
      - func: "locate PHP binaries"
        vars:
          PHP_VERSION: "8.4"
      - func: "compile extension"
        vars:
          EXTENSION_BRANCH: "v1.20"
      - func: "upload extension"
  - name: "build-php-8.4-next-minor"
    tags: ["build", "php8.4", "next-minor"]
    commands:
      - func: "locate PHP binaries"
        vars:
          PHP_VERSION: "8.4"
      - func: "compile extension"
        vars:
          EXTENSION_BRANCH: "v1.x"
      - func: "upload extension"
  - name: "build-php-8.3"
    tags: ["build", "php8.3", "stable", "pr", "tag"]
    commands:
      - func: "locate PHP binaries"
        vars:
          PHP_VERSION: "8.3"
      - func: "compile extension"
        # TODO: remove once 2.0.0 is released
        vars:
          EXTENSION_BRANCH: "v2.x"
      - func: "upload extension"
  # TODO: re-enable once 2.0.0 is released
#  - name: "build-php-8.3-lowest"
#    tags: ["build", "php8.3", "lowest", "pr", "tag"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.3"
#      - func: "compile extension"
#        vars:
#          EXTENSION_VERSION: "2.0.0"
#      - func: "upload extension"
#  - name: "build-php-8.3-next-stable"
#    tags: ["build", "php8.3", "next-stable", "pr", "tag"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.3"
#      - func: "compile extension"
#        vars:
#          EXTENSION_BRANCH: "v2.0"
#      - func: "upload extension"
#  - name: "build-php-8.3-next-minor"
#    tags: ["build", "php8.3", "next-minor"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.3"
#      - func: "compile extension"
#        vars:
#          EXTENSION_BRANCH: "v2.x"
#      - func: "upload extension"
  - name: "build-php-8.2"
    tags: ["build", "php8.2", "stable", "pr", "tag"]
    commands:
      - func: "locate PHP binaries"
        vars:
          PHP_VERSION: "8.2"
      - func: "compile extension"
        # TODO: remove once 2.0.0 is released
        vars:
          EXTENSION_BRANCH: "v2.x"
      - func: "upload extension"
  # TODO: re-enable once 2.0.0 is released
#  - name: "build-php-8.2-lowest"
#    tags: ["build", "php8.2", "lowest", "pr", "tag"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.2"
#      - func: "compile extension"
#        vars:
#          EXTENSION_VERSION: "2.0.0"
#      - func: "upload extension"
#  - name: "build-php-8.2-next-stable"
#    tags: ["build", "php8.2", "next-stable", "pr", "tag"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.2"
#      - func: "compile extension"
#        vars:
#          EXTENSION_BRANCH: "v2.0"
#      - func: "upload extension"
#  - name: "build-php-8.2-next-minor"
#    tags: ["build", "php8.2", "next-minor"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.2"
#      - func: "compile extension"
#        vars:
#          EXTENSION_BRANCH: "v2.x"
#      - func: "upload extension"
  - name: "build-php-8.1"
    tags: ["build", "php8.1", "stable", "pr", "tag"]
    commands:
      - func: "locate PHP binaries"
        vars:
          PHP_VERSION: "8.1"
      - func: "compile extension"
        # TODO: remove once 2.0.0 is released
        vars:
          EXTENSION_BRANCH: "v2.x"
      - func: "upload extension"
  # TODO: re-enable once 2.0.0 is released
#  - name: "build-php-8.1-lowest"
#    tags: ["build", "php8.1", "lowest", "pr", "tag"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.1"
#      - func: "compile extension"
#        vars:
#          EXTENSION_VERSION: "2.0.0"
#      - func: "upload extension"
#  - name: "build-php-8.1-next-stable"
#    tags: ["build", "php8.1", "next-stable", "pr", "tag"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.1"
#      - func: "compile extension"
#        vars:
#          EXTENSION_BRANCH: "v2.0"
#      - func: "upload extension"
#  - name: "build-php-8.1-next-minor"
#    tags: ["build", "php8.1", "next-minor"]
#    commands:
#      - func: "locate PHP binaries"
#        vars:
#          PHP_VERSION: "8.1"
#      - func: "compile extension"
#        vars:
#          EXTENSION_BRANCH: "v2.x"
#      - func: "upload extension"
